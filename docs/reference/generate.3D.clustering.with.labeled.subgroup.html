<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Make a 3D scatter plot that shows the data as represented by PC1, PC2, and PC3 and color labels clusters — generate.3D.clustering.with.labeled.subgroup • machinelearnr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Make a 3D scatter plot that shows the data as represented by PC1, PC2, and PC3 and color labels clusters — generate.3D.clustering.with.labeled.subgroup" />
<meta property="og:description" content="After clustering of a dataset with three or more dimensions, we often want to
visualize the result of the clustering on a 3D plot. If there are more than
three dimensions, we want to first reduce the data down to three dimensions.
This can be done with PCA. After PCA is completed, the data can be plotted
with this function." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">machinelearnr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Examples.html">Examples</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Make a 3D scatter plot that shows the data as represented by PC1, PC2, and PC3 and color labels clusters</h1>
    
    <div class="hidden name"><code>generate.3D.clustering.with.labeled.subgroup.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>After clustering of a dataset with three or more dimensions, we often want to
visualize the result of the clustering on a 3D plot. If there are more than
three dimensions, we want to first reduce the data down to three dimensions.
This can be done with PCA. After PCA is completed, the data can be plotted
with this function.</p>
    </div>

    <pre class="usage"><span class='fu'>generate.3D.clustering.with.labeled.subgroup</span><span class='op'>(</span>
  <span class='va'>pca.results.input</span>,
  <span class='va'>cluster.labels.input</span>,
  <span class='va'>subgroup.labels.input</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>pca.results.input</th>
      <td><p>An object outputted by stats::prcomp(). The PCA of all the features used for clustering. There should be at least 3 features.</p></td>
    </tr>
    <tr>
      <th>cluster.labels.input</th>
      <td><p>A vector of integers that specify which cluster each observation belongs to.</p></td>
    </tr>
    <tr>
      <th>subgroup.labels.input</th>
      <td><p>A vector of strings that specify an additional label for each observations. Each point needs to be labeled</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list with 8 objects:</p><ol>
<li><p>String specifying x axis label with percent variance for PC1.</p></li>
<li><p>String specifying y axis label with percent variance for PC2.</p></li>
<li><p>String specifying z axis label with percent variance for PC3.</p></li>
<li><p>A vector specifying values for x coordinates of points. PC1 values.</p></li>
<li><p>A vector specifying values for y coordinates of points. PC2 values.</p></li>
<li><p>A vector specifying values for z coordinates of points. PC3 values</p></li>
<li><p>A chisq.test() result object.</p></li>
<li><p>A table used for chisq.test()</p></li>
</ol>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function outputs values that can be used to plot PC1 vs PC2 vs PC3 using the rgl package.
This function uses the output of stat::prcomp(). The input into prcomp() needs to have
at least 3 dimensions. PC = principal component.</p>
<p>This function creates a contingency table to show if the cluster labels
and subgroup labels are significantly associated.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other Clustering functions: 
<code><a href='CalcOptimalNumClustersForKMeans.html'>CalcOptimalNumClustersForKMeans</a>()</code>,
<code><a href='GenerateParcoordForClusters.html'>GenerateParcoordForClusters</a>()</code>,
<code><a href='HierarchicalClustering.html'>HierarchicalClustering</a>()</code>,
<code><a href='generate.2D.clustering.with.labeled.subgroup.html'>generate.2D.clustering.with.labeled.subgroup</a>()</code>,
<code><a href='generate.plots.comparing.clusters.html'>generate.plots.comparing.clusters</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='va'>example.data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>18</span>, <span class='fl'>21</span>, <span class='fl'>22</span>, <span class='fl'>24</span>, <span class='fl'>26</span>, <span class='fl'>26</span>, <span class='fl'>27</span>, <span class='fl'>30</span>, <span class='fl'>31</span>, <span class='fl'>35</span>,
                                 <span class='fl'>39</span>, <span class='fl'>40</span>, <span class='fl'>41</span>, <span class='fl'>42</span>, <span class='fl'>44</span>, <span class='fl'>46</span>, <span class='fl'>47</span>, <span class='fl'>48</span>, <span class='fl'>49</span>, <span class='fl'>54</span>, <span class='fl'>35</span>, <span class='fl'>30</span><span class='op'>)</span>,
                           y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>11</span>, <span class='fl'>22</span>, <span class='fl'>15</span>, <span class='fl'>12</span>, <span class='fl'>13</span>, <span class='fl'>14</span>, <span class='fl'>33</span>, <span class='fl'>39</span>, <span class='fl'>37</span>, <span class='fl'>44</span>,
                                 <span class='fl'>27</span>, <span class='fl'>29</span>, <span class='fl'>20</span>, <span class='fl'>28</span>, <span class='fl'>21</span>, <span class='fl'>30</span>, <span class='fl'>31</span>, <span class='fl'>23</span>, <span class='fl'>24</span>, <span class='fl'>40</span>, <span class='fl'>45</span><span class='op'>)</span>,
                           z <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>2</span>, <span class='fl'>2</span>, <span class='fl'>2</span>, <span class='fl'>2</span>, <span class='fl'>2</span>, <span class='fl'>3</span>,
                                 <span class='fl'>3</span>, <span class='fl'>3</span>, <span class='fl'>3</span>, <span class='fl'>3</span>, <span class='fl'>3</span>, <span class='fl'>3</span>, <span class='fl'>3</span>, <span class='fl'>3</span><span class='op'>)</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/grDevices/dev.html'>dev.new</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>example.data</span><span class='op'>$</span><span class='va'>x</span>, <span class='va'>example.data</span><span class='op'>$</span><span class='va'>y</span><span class='op'>)</span>

<span class='va'>km.res</span> <span class='op'>&lt;-</span> <span class='fu'>stats</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/r/stats/kmeans.html'>kmeans</a></span><span class='op'>(</span><span class='va'>example.data</span><span class='op'>[</span>,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"x"</span>, <span class='st'>"y"</span>, <span class='st'>"z"</span><span class='op'>)</span><span class='op'>]</span>, <span class='fl'>3</span>, nstart <span class='op'>=</span> <span class='fl'>25</span>, iter.max<span class='op'>=</span><span class='fl'>10</span><span class='op'>)</span>

<span class='va'>grouped</span> <span class='op'>&lt;-</span> <span class='va'>km.res</span><span class='op'>$</span><span class='va'>cluster</span>

<span class='va'>pca.results</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/prcomp.html'>prcomp</a></span><span class='op'>(</span><span class='va'>example.data</span><span class='op'>[</span>,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"x"</span>, <span class='st'>"y"</span>, <span class='st'>"z"</span><span class='op'>)</span><span class='op'>]</span>, scale<span class='op'>=</span><span class='cn'>FALSE</span><span class='op'>)</span>

<span class='va'>actual.group.label</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"A"</span>, <span class='st'>"A"</span>, <span class='st'>"A"</span>, <span class='st'>"A"</span>, <span class='st'>"A"</span>, <span class='st'>"A"</span>, <span class='st'>"A"</span>, <span class='st'>"B"</span>, <span class='st'>"B"</span>, <span class='st'>"B"</span>, <span class='st'>"B"</span>, 
<span class='st'>"B"</span>, <span class='st'>"B"</span>, <span class='st'>"B"</span>, <span class='st'>"B"</span>, <span class='st'>"B"</span>, <span class='st'>"B"</span>, <span class='st'>"B"</span>, <span class='st'>"B"</span>, <span class='st'>"B"</span>, <span class='st'>"B"</span>, <span class='st'>"B"</span><span class='op'>)</span>

<span class='va'>results</span> <span class='op'>&lt;-</span> <span class='fu'>generate.3D.clustering.with.labeled.subgroup</span><span class='op'>(</span><span class='va'>pca.results</span>, <span class='va'>grouped</span>, <span class='va'>actual.group.label</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: Chi-squared approximation may be incorrect</span></div><div class='input'>
<span class='va'>xlab.values</span> <span class='op'>&lt;-</span> <span class='va'>results</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span>
<span class='va'>ylab.values</span> <span class='op'>&lt;-</span> <span class='va'>results</span><span class='op'>[[</span><span class='fl'>2</span><span class='op'>]</span><span class='op'>]</span>
<span class='va'>zlab.values</span> <span class='op'>&lt;-</span> <span class='va'>results</span><span class='op'>[[</span><span class='fl'>3</span><span class='op'>]</span><span class='op'>]</span>
<span class='va'>xdata.values</span> <span class='op'>&lt;-</span> <span class='va'>results</span><span class='op'>[[</span><span class='fl'>4</span><span class='op'>]</span><span class='op'>]</span>
<span class='va'>ydata.values</span> <span class='op'>&lt;-</span> <span class='va'>results</span><span class='op'>[[</span><span class='fl'>5</span><span class='op'>]</span><span class='op'>]</span>
<span class='va'>zdata.values</span> <span class='op'>&lt;-</span> <span class='va'>results</span><span class='op'>[[</span><span class='fl'>6</span><span class='op'>]</span><span class='op'>]</span>

<span class='fu'>rgl</span><span class='fu'>::</span><span class='fu'><a href='https://dmurdoch.github.io/rgl/dev/reference/bg.html'>rgl.bg</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"white"</span><span class='op'>)</span>

<span class='fu'>rgl</span><span class='fu'>::</span><span class='fu'><a href='https://dmurdoch.github.io/rgl/dev/reference/plot3d.html'>plot3d</a></span><span class='op'>(</span>x<span class='op'>=</span> <span class='va'>xdata.values</span>, y<span class='op'>=</span> <span class='va'>ydata.values</span>, z<span class='op'>=</span> <span class='va'>zdata.values</span>,
xlab <span class='op'>=</span> <span class='va'>xlab.values</span>, ylab <span class='op'>=</span> <span class='va'>ylab.values</span>, zlab <span class='op'>=</span> <span class='va'>zlab.values</span>, col<span class='op'>=</span><span class='op'>(</span><span class='va'>grouped</span><span class='op'>+</span><span class='fl'>1</span><span class='op'>)</span>, pch<span class='op'>=</span><span class='fl'>20</span>, cex<span class='op'>=</span><span class='fl'>2</span><span class='op'>)</span>

<span class='fu'>rgl</span><span class='fu'>::</span><span class='fu'><a href='https://dmurdoch.github.io/rgl/dev/reference/texts.html'>text3d</a></span><span class='op'>(</span>x<span class='op'>=</span> <span class='va'>xdata.values</span>, y<span class='op'>=</span> <span class='va'>ydata.values</span>, z<span class='op'>=</span> <span class='va'>zdata.values</span>, text<span class='op'>=</span> <span class='va'>actual.group.label</span>, cex<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Yong-Han Hank Cheng.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


